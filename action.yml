name: 'Next semantic version'
description: Calculate the next semantic version for a GitHub release
inputs:
  branch: 
    description: The branch you want to pull the latest release version from
    required: false
  increment-type: 
    description: Select which version to increment (MAJOR, MINOR or PATCH)
    required: false
outputs: 
  next-semantic-version:
    description: The max version code in the play store for the app +1
    value: ${{ steps.version_code_increment.outputs.VALUE }}
runs:
  using: "composite"
  steps:
    - uses: actions/checkout@v2
      with: 
        ref: ${{inputs.branch}}
    - uses: actions-ecosystem/action-get-latest-tag@v1
      id: get-latest-tag
    - name: Echo
      run: |
        echo ${{ steps.get-latest-tag.outputs.tag }}
      shell: bash
    - name: Bump Semantic Version
      uses: jessicalostinspace/bump-semantic-version-action@v1.0.1
      with:
        semantic-version: ${{ steps.get-latest-tag.outputs.tag }}
        version-type: '${{inputs.increment-type}}'
